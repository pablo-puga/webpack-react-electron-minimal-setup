<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Webpack, React and Electron Minimal Setup</title>
        <script>
            (function() {
                if (process.env.NODE_ENV === 'production') {
                    const link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = './dist/app-bundle.css';
                    document.getElementsByTagName('head')[0].appendChild(link);
                }
            }());
        </script>
    </head>
    <body>
        <div id="root"></div>
    </body>
    <script>
        (function() {
            const port = process.env.SERVER_PORT | 8080;
            const script = document.createElement('script');
            script.src = process.env.NODE_ENV === 'development' ? 'http://localhost:' + port + '/dist/app-bundle.js' : './dist/app-bundle.js';
            script.setAttribute('defer', 'defer');
            document.write(script.outerHTML);
        }());
    </script>
</html>
