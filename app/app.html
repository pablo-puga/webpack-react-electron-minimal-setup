<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Webpack, React and Electron Minimal Setup</title>
        <script>
            (function() {
                if (process.env.ENV === 'prod') {
                    const link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = './dist/app-bundle.css';
                    document.getElementsByTagName('head')[0].appendChild(link);
                }
            }());
        </script>
    </head>
    <body>
        <h1>Webpack, React and Electron Minimal Setup</h1>
        <p>
            We are using Node.js <strong><script>document.write(process.versions.node)</script></strong>
            , Chromium <strong><script>document.write(process.versions.chrome)</script></strong>
            and Electron <strong><script>document.write(process.versions.electron)</script></strong>
        </p>
    </body>
    <script>
        (function() {
            const port = process.env.SERVER_PORT | 8080;
            const script = document.createElement('script');
            script.src = process.env.ENV === 'dev' ? 'http://localhost:' + port + '/dist/app-bundle.js' : './dist/app-bundle.js';
            script.setAttribute('defer', 'defer');
            document.write(script.outerHTML);
        }());
    </script>
</html>
